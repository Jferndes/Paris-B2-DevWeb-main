{% extends "base.html.twig" %}

{% block css %}
    <link rel="stylesheet" href="/css/form.css">
{% endblock %}

{% block title %}
    Editer Mission
{% endblock %}

{% block body %}
    <div class="container">
        <h1>Editer la mission {{ mission.id }}</h1>
        <form action="editerMission.php" method="post">
            <input type="hidden" name="id" value="{{ mission.id }}">
            <label for="motif">Motif :</label>
            <input type="text" id="motif" name="motif" value="{{ mission.motif }}" required /><br /><br />

            <label for="urgence">Urgence :</label>
            <select id="urgence" name="urgence" required>
                {% for urgence in urgences %}
                    <option value="{{ urgence.id }}" {% if urgence.id == mission.urgence_id %} selected {% endif %}>{{ urgence.nomUrgence }}</option>
                {% endfor %}
            </select><br /><br />

            <label for="adresse">Adresse :</label>
            <select id="adresse" name="adresse" required>
                {% for adresse in adresses %}
                    <option value="{{ adresse.id }}" {% if adresse.id == mission.adresse_id %} selected {% endif %}>
                        {{ adresse.numero }} {{ adresse.rue }} {{ adresse.ville }} {{ adresse.codePostal }}
                    </option>
                {% endfor %}
            </select><br /><br />

            <label for="commentaire">Commentaire :</label>
            <textarea id="commentaire" name="commentaire" required>{{ mission.commentaire }}</textarea><br /><br />

            <label for="intervenants">Intervenants :</label>
            <select id="intervenants" name="intervenants[]" multiple required>
                {% for intervenant in intervenants %}
                    <option value="{{ intervenant.matricule }}" {% if intervenant.matricule in mission.intervenantMission_id %} selected {% endif %}>
                        {{ intervenant.nom }} {{ intervenant.prenom }}
                    </option>
                {% endfor %}
            </select><br /><br />

            <label for="standardiste">Standardiste :</label>
            <select id="standardiste" name="standardiste" required>
                {% for standardiste in standardistes %}
                    <option value="{{ standardiste.matricule }}" {% if standardiste.matricule == mission.standardiste_id %} selected {% endif %}>
                        {{ standardiste.nom }} {{ standardiste.prenom }}
                    </option>
                {% endfor %}
            </select><br /><br />

            <label for="client">Client :</label>
            <select id="client" name="client" required>
                {% for client in clients %}
                    <option value="{{ client.id }}" {% if client.id == mission.client_id %} selected {% endif %}>
                        {{ client.nom }} {{ client.prenom }}
                    </option>
                {% endfor %}
            </select><br /><br />

            <input type="submit" value="Editer la mission" />
        </form>
    </div>
{% endblock %}
